<div class="bg-pattern p-4 min-h-screen flex items-center justify-center flex-col">
    <div class="container mx-auto max-w-7xl">
        <div class="flex flex-col md:flex-row justify-center items-center gap-4 bg-white p-4 md:p-6 rounded-xl shadow-lg mb-8 flex-wrap">
            <div class="flex items-center gap-2 w-full md:w-auto">
                <label for="name-search" class="font-semibold text-gray-700">Nombre:</label>
                <input type="text" id="name-search" placeholder="Drag" class="p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-48">
            </div>
            <div class="flex items-center gap-2 w-full md:w-auto">
                <label for="type-select" class="font-semibold text-gray-700">Tipo:</label>
                <select id="type-select" class="p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-32">
                    @for (pokemon of pokemons ; track pokemon.type) {
                        <option [value]="pokemon.type">{{pokemon.type}}</option>
                    }
                </select>
            </div>
            <div class="flex items-center gap-2 w-full md:w-auto">
                <label for="sort-select" class="font-semibold text-gray-700">Saga:</label>
                <select id="sort-select" class="p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-full md:w-32">
                    <option>Z-A</option>
                </select>
            </div>
        </div>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
            @for (pokemon of pokemons; track pokemon.name) {
                <div (click)="openModal(pokemon)" class="hover:cursor-pointer bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col items-center">
                    <img src="{{pokemon.image}}" alt="Pokémon Placeholder" class="w-24 h-24 mb-4">
                    <div class="w-full text-left">
                        <h2 class="text-lg font-bold text-gray-800 mt-1">{{pokemon.name}}</h2>
                        <div class="flex gap-2 mt-2">
                             <span class="px-3 py-1 rounded-full text-white text-xs font-semibold bg-gray-400">{{pokemon.type}}</span>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>


<div (click)="showMorePokemons()" class="flex justify-center items-center gap-2 my-8 hover:cursor-pointer hover:text-blue-600 transition-colors duration-300">
      <p class="cursor-pointer">Mostrar mas</p>
</div>


<!-- <div class=" hidden flex-col items-center justify-center h-96">
    <img src="https://assets.pokemon.com/assets/cms2/img/pokedex/full/025.png" alt="Pikachu" class="w-24 h-24 loading-animation mb-4">
    <div class="text-center text-gray-600 text-lg font-semibold">Cargando Pokémon...</div>
</div> -->

<!-- Modal del Pokémon -->
@if (isModalOpen && selectedPokemon) {
    <div class="modal-overlay" (click)="closeModal()">
        <div class="modal-content" (click)="$event.stopPropagation()">
            <button (click)="closeModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-3xl font-bold">&times;</button>
            
            <div class="flex flex-col md:flex-row gap-8">
                <div class="w-full md:w-1/2 flex items-center justify-center bg-gray-100 rounded-lg p-4">
                    <img [src]="selectedPokemon.image" [alt]="selectedPokemon.name" class="w-64 h-auto">
                </div>
                
                <div class="w-full md:w-1/2">
                    <div class="flex justify-between items-baseline mb-4">
                        <h2 class="text-4xl font-bold text-gray-800 capitalize">{{selectedPokemon.name}}</h2>
                    </div>
                    <p class="text-gray-700 mb-6">{{selectedPokemonDetails?.description}}</p>
                    
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="font-semibold text-gray-700">Altura:</div>
                        <div class="text-gray-600">{{(selectedPokemon.height * 0.1).toFixed(1)}} m</div>
                        
                        <div class="font-semibold text-gray-700">Peso:</div>
                        <div class="text-gray-600">{{(selectedPokemon.weight * 0.1).toFixed(1)}} kg</div>

                        <div class="font-semibold text-gray-700">Categoria:</div>
                        <div class="text-gray-600">{{selectedPokemonDetails?.category}}</div>

                        <div class="font-semibold text-gray-700">Habita:</div>
                        <div class="text-gray-600">{{selectedPokemonDetails?.habitat}}</div>
                        
                        <div class="font-semibold text-gray-700">Tipo:</div>
                        <div class="flex gap-2">
                            <span [ngClass]="'type-' + selectedPokemon.type" class="px-3 py-1 rounded-full text-white text-sm font-semibold capitalize">
                                {{selectedPokemon.type}}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}
</div>